{
  "info": {
    "title": "Actuator with PWM option", 
    "version": "2020-11-23", 
    "copyright": "Copyright 2020, Michael J. Koster\n        All rights reserved.", 
    "license": "https://github.com/one-data-model/oneDM/blob/master/LICENSE"
  }, 
  "namespace": {
    "fb": "https://onedm.org/exploratory/onefb/"
  }, 
  "defaultNamespace": "fb", 

  "sdfObject": {
    "PwmActuator": {
      "description": "Actuation with PWM option",
      "label": "PWM Actuator",
      "sdfProperty": {
        "CurrentValue": {
          "description": "The most recently updated output state value",
          "label": "Current Output Value",
          "sdfRef": "fb:#/sdfData/ActuatorStateDataType"
        },
        "MinimumValue": {
          "description": "The smallest accepted Value",
          "label": "Minimum Value",
          "sdfRef": "fb:#/sdfData/ActuatorStateDataType"
        },
        "MaximumValue": {
          "description": "The largest accepted Value",
          "label": "Maximum Value",
          "sdfRef": "fb:#/sdfData/ActuatorStateDataType"
        },
        "ValueResolution": {
          "description": "Decimal resolution constraint for accepted Value",
          "label": "Value Resolution",
          "sdfRef": "fb:#/sdfData/ValueResolutionType"
        },
        "ScaledUnit": {
          "description": "Engineering Unit for the scaled value",
          "label": "Scaled Unit",
          "sdfRef": "fb:#/sdfData/UnitType"
        },
        "ScaledMinimum": {
          "description": "Minimum scaled value in engineering units",
          "label": "Minimum Scaled Value",
          "type": "number"
        },
        "ScaledMaximum": {
          "description": "Maximum scaled value in Engineering units",
          "label": "Maximum Scaled Value",
          "type": "number"
        },
        "ScaledValueResolution": {
          "description": "The Decimal Resolution of the scaled value",
          "label": "Scaled Value Resolution",
          "type": "number"
        },
        "CurrentScaledValue": {
          "description": "The most recently accepted value scaled to Engineering Units",
          "label": "Current Scaled Value",
          "type": "number"
        },
        "CurrentScaledMinimum": {
          "description": "The current minimum scaled value since reset",
          "label": "Current Minimum Scaled Value",
          "type": "number"
        },
        "CurrentScaledMaximum": {
          "description": "The current maximum scaled value since reset",
          "label": "Current Miaximum Scaled Value",
          "type": "number"
        },
        "ActuatorType": {
          "description": "The type of actuator or process used, for display purposes",
          "label": "Sensor Type",
          "type": "string"
        },
        "ApplicationType": {
          "description": "The application context of the sensor, for display purposes",
          "label": "Application Type",
          "type": "string"
        },
        "System Identifier": {
          "description": "The system-unique identifier for this sensor e.g. P&ID Tag",
          "label": "System Identifier",
          "type": "string"
        },
        "OutputMode": {
          "description": "The mode of the output, analog or PWM",
          "label": "Output Mode",
          "sdfRef": "#/sdfObject/pwmActuator/sdfData/OutputModeData"
        },
        "PwmFrequency": {
          "description": "PWM Frequency",
          "label": "PWM Frequency",
          "sdfRef": "#/sdfObject/pwmActuator/sdfData/PwmFrequency"
        }
      },
      "sdfAction": {
        "SetCurrentValue": {
          "description": "Set the current output value of the actuator",
          "label": "Set Current Value",
          "InputData": {
            "type": "object",
            "required": [ "TargetValue" ],
            "properties": {
              "TargetValue": {
                "description": "Target Output Value",
                "label": "Target Output Value",
                "sdfRef": "fb:#/sdfData/ActuatorStateDataType"
              },
              "TransitionTime": {
                "description": "Move the actuator output smoothly from the current value to the target value",
                "label": "Transition Time",
                "sdfRef": "fb:#/sdfData/TransionTimeType"
              }
            }
          }
        },
        "SetOutputMode": {
          "description": "Set the output mode to one of the available modes",
          "label": "Set Output Mode",
          "InputData": {
            "type": "object",
            "properties": {
              "OutputMode": {
                "sdfRef": "#/sdfObject/pwmActuator/sdfData/OutputModeData"
              }
            }
          }
        },
        "SetPwmFrequency": {
          "description": "Try to set the PWM Frequency, device may set to an approximate value",
          "label": "Set PWM Frequency",
          "InputData": {
            "type": "object",
            "properties": {
              "TargetPwmFrequency": {
                "description": "Target PWM Frequency",
                "label": "Target PWM Frequency",
                "sdfRef": "#/sdfObject/pwmActuator/sdfData/PwmFrequency"
              }
            }
          }
        },
        "ResetMinMax": {
          "description": "Reset the minumum and maximum actuator Values",
          "label": "ResetMinMax"
        }
      },
      "sdfData": {
        "OutputModeData": {
          "description": "The mode of the output",
          "label": "Output Mode",
          "sdfChoice": {
            "AnalogMode": {
              "description": "Analog (D/A) Output Mode",
              "label": "Analog Mode"
              },
            "PwmMode": {
              "description": "PWM Output Mode",
              "label": "PWM Mode"
            }
          }
        },
        "PwmFrequency": {
          "description": "PWM Frequency",
          "label": "PWM Frequency",
          "type": "number",
          "unit": "Hz"
        }
      }
    }
  }
}